{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","youTyping","this","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","window","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","setVolume","volume","setPlaybackQuality","playbackQuality","resolve","event","screen","call","data","PlayerState","ENDED","PLAYING","getCurrentTime","offset","seekTo","PAUSED","BUFFERING","CUED","reject","loadScoreXML","ajax","url","score","type","datatype","timeout","success","scoreXML","find","each","tempItem","parseFloat","attr","remainingText","state","push","nextLyricIndex","findNextLyric","error","jqXHR","textStatus","errorThrown","loadTable","tableFile","table","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","itemIndex","nextLyric","gameLoop","gotCurrentTime","now","zeroTimePad","correction","zeroTime","currentTime","estimatedZero","estimateSamples","zeroEstimateSamples","shift","estimatedSum","reduce","previous","current","zeroCallFPS","previousLiveNote","previousLiveNoteIndex","forEach","note","failureSuspension","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","combo","startTime","hitPosition","noteSize","speed","scoreYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","currentLyricPosition","nextLyricPosition","judges","from","to","Infinity","breakCombo","controlledCorrection","Object","defineProperty","get","performance","play","playVideo","setInterval","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","onJudgement","judgement","param","hasOwnProperty","undefined","wrap","css","margin","position","id","appendTo","display","z-index","data-paper-keepalive","top","left","Screen","getElementById","when","setup","done","load","ready","fail","canvas","FPS","items","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","currentLyric","judgeEffects","Group","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","start","onMouseDown","onFrame","triggerHitNote","getPlayerState","preventDefault","setting","runTime","longLine","addChild","Line","smallLine","lyric","fontFamily","orderStop","segments","lineBy","closed","x","visible","style","opacity","toFixed","project","activeLayer","children","judgeEffect","controller","cursor","JudgeEffect","judgeColor","add","translate","string","prefix","substring"],"mappings":"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"}