{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["exports","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","YouTyping","element","settings","youTyping","this","screen","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","zeroEstimateSamples","videoId","dataFile","tableFile","width","height","judges","from","to","Infinity","breakCombo","failureSuspension","initial","correction","controlledCorrection","offset","volume","playbackQuality","param","hasOwnProperty","undefined","parseFloat","Boolean","dataXML","roll","player","Object","defineProperty","get","window","performance","now","table","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","onYouTubeIframeAPIReady","DOM","setAttribute","YT","Player","playerVars","rel","start","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","setVolume","setPlaybackQuality","resolve","event","call","data","PlayerState","ENDED","PLAYING","isPlayingGame","estimateSamples","PAUSED","BUFFERING","CUED","reject","loadDataXML","ajax","url","type","datatype","timeout","success","find","first","initializeRoll","error","jqXHR","textStatus","errorThrown","items","lastNote","each","tempItem","attr","has","remainingText","children","state","judgement","push","nextLyricIndex","findNextLyric","loadTable","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","itemIndex","nextLyric","gameLoop","gotCurrentTime","getCurrentTime","getPlayerState","currentTime","estimatedZero","shift","estimatedSum","reduce","previous","current","zeroTimePad","zeroCallFPS","zeroTime","previousLiveNote","previousLiveNoteIndex","forEach","note","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","scorebook","neglect","failed","endGame","combo","onGameEnd","play","playVideo","gameLoopId","setInterval","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","maxCombo","onJudgement","reset","clearInterval","initialize","pauseVideo","seekTo","getKanaLyric","lyricIndex","kanaLyric","score","callbacks","callback","when","done","onResourceReady","onGameReady","fail","Screen","FPS","hitPosition","speed","noteSize","lyricSize","rollYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","currentLyricPosition","nextLyricPosition","kanaLyricPosition","judgeColors","perfect","great","good","bad","youTypingSettings","paper","setup","canvas","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","currentLyric","judgeEffects","Group","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","onMouseDown","onFrame","triggerHitNote","preventDefault","runTime","position","longLine","addChild","Line","smallLine","lyric","fontFamily","orderStop","segments","lineBy","closed","x","visible","style","opacity","toFixed","project","activeLayer","judgeEffect","controller","css","cursor","JudgeEffect","judgeColor","add","translate","resultCover","showResult","screenSize","result","color","Color","brightness","saturation","wrap","margin","id","appendTo","display","z-index","data-paper-keepalive","top","left","string","prefix","substring","module"],"mappings":"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"}