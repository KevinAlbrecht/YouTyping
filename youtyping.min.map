{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","youTyping","this","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","window","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","resolve","event","data","PlayerState","ENDED","PLAYING","getCurrentTime","offset","seekTo","PAUSED","BUFFERING","CUED","reject","loadScoreXML","ajax","url","score","type","datatype","timeout","success","scoreXML","find","each","tempItem","parseFloat","attr","remainingText","state","push","nextLyricIndex","findNextLyric","error","jqXHR","textStatus","errorThrown","loadTable","tableFile","table","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","itemIndex","nextLyric","gameLoop","gotCurrentTime","now","zeroTimePad","correction","zeroTime","currentTime","estimatedZero","estimateSamples","zeroEstimateSamples","shift","estimatedSum","reduce","previous","current","zeroCallFPS","previousLiveNote","previousLiveNoteIndex","forEach","note","failureSuspension","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","startTime","hitPosition","noteSize","speed","scoreYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","currentLyricPosition","nextLyricPosition","judges","from","to","Infinity","controlledCorrection","Object","defineProperty","get","performance","play","playVideo","setInterval","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","param","hasOwnProperty","undefined","parseInt","wrap","css","margin","position","id","appendTo","display","z-index","screen","data-paper-keepalive","top","left","Screen","getElementById","when","setup","done","load","ready","fail","canvas","FPS","items","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","currentLyric","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","start","onMouseDown","onFrame","getPlayerState","toFixed","project","activeLayer","children","triggerHitNote","preventDefault","setting","runTime","Group","longLine","addChild","Line","smallLine","lyric","fontFamily","orderStop","segments","lineBy","closed","x","visible","style","opacity","string","prefix","substring"],"mappings":"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"}