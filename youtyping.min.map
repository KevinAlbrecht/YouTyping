{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["exports","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","assert","condition","message","Error","YouTyping","element","settings","youTyping","this","screen","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","itemType","LINE","LONGLINE","NOTE","LYRIC","STOP","zeroEstimateSamples","videoId","dataFile","tableFile","width","height","judges","from","to","weight","Infinity","breakCombo","failureSuspension","initial","mercy","mercyBorder","correction","controlledCorrection","offset","videoStop","volume","playbackQuality","param","hasOwnProperty","undefined","parseFloat","Boolean","dataXML","roll","player","Object","defineProperty","get","window","performance","now","table","setupPlayerDeferred","gameEndFlag","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","onYouTubeIframeAPIReady","DOM","setAttribute","YT","Player","playerVars","rel","start","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","setVolume","setPlaybackQuality","playVideo","pauseVideo","resolve","event","dispatchEvent","data","PlayerState","ENDED","PLAYING","isPlayingGame","estimateSamples","PAUSED","BUFFERING","CUED","reject","loadDataXML","ajax","url","type","datatype","timeout","success","find","first","initializeRoll","error","jqXHR","textStatus","errorThrown","items","lastNote","virtualCombo","previousNote","each","tempItem","attr","mapsTo","line","longline","note","lyric","stop","romaji","remainingRomaji","receivedRomaji","has","remainingText","children","duration","state","judgement","totalCombo","push","nextLyricIndex","findNextLyric","loadTable","index","before","after","next","priority","strokePerCharacter","romanizationTable","extend","sort","a","b","calculateWeight","firstNote","totalWeight","forEach","item","result","romanizeNotes","density","Math","floor","remainingString","prefix","leftString","found","some","rule","startsWith","remainingPrefix","followingString","slice","nextNoteIndex","findNextNote","nextNote","noteIndex","i","itemIndex","nextLyric","gameLoop","gotCurrentTime","getCurrentTime","gotPlayerState","getPlayerState","currentTime","estimatedZero","shift","estimatedSum","reduce","previous","current","zeroTimePad","stopVideo","zeroCallFPS","zeroTime","previousLiveNote","previousLiveNoteIndex","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","endGame","scorebook","neglect","failed","combo","getLastKeyHit","replay","updateScore","scoredWeight","judge","score","scoredCombo","play","seekTo","gameLoopId","setInterval","setTimeout","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","cleared","MERCIFIED","lastKeyHit","worstJudge","nearestNote","nearestNewNote","nearestDistance","distance","abs","hitJudge","maxCombo","reset","clearInterval","initialize","getKanaLyric","lyricIndex","kanaLyric","addEventListener","listener","removeEventListener","splice","properties","call","when","done","bind","fail","string","substring","String","prototype","valueOf","module"],"mappings":"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"}