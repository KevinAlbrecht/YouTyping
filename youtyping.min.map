{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","youTyping","this","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","window","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","resolve","event","data","PlayerState","ENDED","PLAYING","PAUSED","BUFFERING","CUED","reject","loadScoreXML","ajax","url","score","type","datatype","timeout","success","scoreXML","find","each","tempItem","parseFloat","attr","remainingText","state","push","nextLyricIndex","findNextLyric","error","jqXHR","textStatus","errorThrown","loadTable","tableFile","table","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","itemIndex","nextLyric","gameLoop","gotCurrentTime","getCurrentTime","now","zeroTimePad","zeroTime","currentTime","estimatedZero","estimateSamples","zeroEstimateSamples","shift","estimatedSum","reduce","previous","current","zeroCallFPS","previousLiveNote","previousLiveNoteIndex","forEach","note","failureSuspension","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","startTime","hitPosition","noteSize","speed","scoreYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","currentLyricPosition","nextLyricPosition","judges","from","to","Infinity","Object","defineProperty","get","performance","play","playVideo","setInterval","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","param","hasOwnProperty","undefined","parseInt","wrap","css","margin","position","id","appendTo","display","z-index","screen","data-paper-keepalive","top","left","Screen","getElementById","when","setup","done","load","ready","fail","canvas","FPS","items","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","currentLyric","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","start","onMouseDown","onFrame","getPlayerState","toFixed","project","activeLayer","children","triggerHitNote","preventDefault","setting","runTime","Group","longLine","addChild","Line","smallLine","lyric","fontFamily","orderStop","segments","lineBy","closed","x","visible","style","opacity","offset","string","prefix","substring"],"mappings":"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"}