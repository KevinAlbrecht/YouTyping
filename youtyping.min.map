{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","youTyping","this","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","window","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","start","offset","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","setVolume","volume","setPlaybackQuality","playbackQuality","resolve","event","screen","call","data","PlayerState","ENDED","PLAYING","PAUSED","BUFFERING","CUED","reject","loadDataXML","ajax","url","dataFile","type","datatype","timeout","success","dataXML","find","first","items","roll","each","tempItem","parseFloat","attr","has","remainingText","children","state","push","nextLyricIndex","findNextLyric","error","jqXHR","textStatus","errorThrown","loadTable","tableFile","table","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","itemIndex","nextLyric","gameLoop","gotCurrentTime","getCurrentTime","now","zeroTimePad","correction","zeroTime","currentTime","estimatedZero","estimateSamples","zeroEstimateSamples","shift","estimatedSum","reduce","previous","current","zeroCallFPS","previousLiveNote","previousLiveNoteIndex","forEach","note","failureSuspension","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","combo","startTime","hitPosition","noteSize","speed","rollYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","currentLyricPosition","nextLyricPosition","kanaLyricPosition","judges","from","to","Infinity","breakCombo","initial","controlledCorrection","Object","defineProperty","get","performance","play","playVideo","setInterval","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","onJudgement","judgement","getKanaLyric","lyricIndex","kanaLyric","param","hasOwnProperty","undefined","Boolean","wrap","css","margin","position","id","appendTo","display","z-index","data-paper-keepalive","top","left","Screen","getElementById","callbacks","callback","when","setup","done","load","ready","fail","canvas","FPS","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","currentLyric","judgeEffects","Group","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","onMouseDown","onFrame","triggerHitNote","getPlayerState","preventDefault","setting","runTime","longLine","addChild","Line","smallLine","lyric","fontFamily","orderStop","segments","lineBy","closed","x","visible","style","opacity","toFixed","project","activeLayer","judgeEffect","controller","cursor","JudgeEffect","judgeColor","add","translate","string","prefix","substring"],"mappings":"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"}