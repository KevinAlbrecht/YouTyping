{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","youTyping","this","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","window","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","setVolume","volume","setPlaybackQuality","playbackQuality","resolve","event","screen","call","data","PlayerState","ENDED","PLAYING","getCurrentTime","offset","seekTo","PAUSED","BUFFERING","CUED","reject","loadScoreXML","ajax","url","score","type","datatype","timeout","success","scoreXML","find","each","tempItem","parseFloat","attr","remainingText","state","push","nextLyricIndex","findNextLyric","error","jqXHR","textStatus","errorThrown","loadTable","tableFile","table","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","itemIndex","nextLyric","gameLoop","gotCurrentTime","now","zeroTimePad","correction","zeroTime","currentTime","estimatedZero","estimateSamples","zeroEstimateSamples","shift","estimatedSum","reduce","previous","current","zeroCallFPS","previousLiveNote","previousLiveNoteIndex","forEach","note","failureSuspension","markFailed","currentNoteIndex","inputBuffer","currentLyricIndex","combo","startTime","hitPosition","noteSize","speed","scoreYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","currentLyricPosition","nextLyricPosition","judges","from","to","Infinity","controlledCorrection","Object","defineProperty","get","performance","play","playVideo","setInterval","hit","key","forceHit","preHitNote","hitKey","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","onJudgement","judgement","param","hasOwnProperty","undefined","wrap","css","margin","position","id","appendTo","display","z-index","data-paper-keepalive","top","left","Screen","getElementById","when","setup","done","load","ready","fail","canvas","FPS","items","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","currentLyric","judgeEffects","Group","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","start","onMouseDown","onFrame","triggerHitNote","getPlayerState","preventDefault","setting","runTime","longLine","addChild","Line","smallLine","lyric","fontFamily","orderStop","segments","lineBy","closed","x","visible","style","opacity","toFixed","project","activeLayer","children","judgeEffect","controller","cursor","JudgeEffect","judgeColor","add","translate","string","prefix","substring"],"mappings":"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"}