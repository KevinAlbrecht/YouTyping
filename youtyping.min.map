{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","youTyping","this","noteState","WAITING","HITTING","CLEARED","HITTINGFAILED","FAILED","setupPlayerDeferred","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","window","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","loadTableDeferred","resolve","event","data","PlayerState","ENDED","PLAYING","PAUSED","BUFFERING","CUED","reject","loadScoreXML","ajax","url","score","type","datatype","timeout","success","scoreXML","find","each","tempItem","parseFloat","attr","remainingText","state","push","error","jqXHR","textStatus","errorThrown","loadTable","tableFile","table","index","before","after","next","findNextNote","noteIndex","nextNote","i","item","startTime","now","zeroEstimateSamples","hitPosition","noteSize","speed","scoreYpos","longLineHeight","lineHeight","screenPadding","bufferTextPosition","judges","from","to","Infinity","zeroTime","zeroTimePad","currentTime","estimateSamples","estimatedZero","zeroCallFPS","Object","defineProperty","get","performance","currentNoteIndex","inputBuffer","play","playVideo","setInterval","gotCurrentTime","getCurrentTime","shift","estimatedSum","reduce","previous","current","hit","key","forceHit","preHitNote","hitKey","note","newInputBuffer","matchingRules","filter","rule","startsWith","nextNoteIndex","nextNoteInfo","newNoteInfo","forcedHit","minimumLength","minimumRule","forEach","appliedRule","substr","hitNote","nearestNote","nearestNewNote","nearestDistance","Math","abs","distance","hitJudge","some","judge","previousNote","param","hasOwnProperty","undefined","parseInt","wrap","css","margin","position","id","appendTo","display","z-index","screen","data-paper-keepalive","top","left","Screen","getElementById","when","setup","done","load","ready","fail","canvas","FPS","items","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","PointText","debugText","justification","bufferText","point","bottomRight","multiply","content","fontSize","paddingRight","paddingLeft","emergeTime","vanishTime","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","triggerStartScreen","remove","tool","onKeyDown","start","onMouseDown","onFrame","getPlayerState","toFixed","project","activeLayer","children","triggerHitNote","preventDefault","setting","runTime","createItem","Group","addChild","Line","fontFamily","opacity","x","offset","string","prefix","substring"],"mappings":"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"}