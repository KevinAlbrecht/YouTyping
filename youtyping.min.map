{"version":3,"file":"youtyping.min.js","sources":["youtyping.js"],"names":["YouTyping","logTrace","text","time","Date","hh","pad","getHours","mm","getMinutes","ss","getSeconds","lll","getMilliseconds","$","append","console","log","getParameterByName","name","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","str","max","toString","length","element","settings","setupPlayerDeferred","youTyping","this","setupPlayer","Deferred","APITag","document","createElement","src","firstScript","getElementsByTagName","parentNode","insertBefore","promise","onYouTubeIframeAPIReady","DOM","player","setAttribute","YT","Player","height","width","videoId","playerVars","rel","controls","showinfo","modestbranding","wmode","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","onError","onPlayerError","loadXMLDeferred","resolve","event","data","PlayerState","ENDED","PLAYING","PAUSED","BUFFERING","CUED","reject","loadScoreXML","ajax","url","score","type","datatype","timeout","success","scoreXML","find","computeParameters","error","jqXHR","textStatus","errorThrown","paddingRight","hitPosition","noteSize","screenPadding","paddingLeft","each","tempItem","parseFloat","attr","push","forEach","item","emergeTime","speed","vanishTime","startTime","now","zeroEstimateSamples","scoreYpos","longLineHeight","lineHeight","zeroTime","zeroTimePad","currentTime","estimateSamples","estimatedZero","zeroCallFPS","play","playVideo","setInterval","gotCurrentTime","getCurrentTime","window","performance","shift","estimatedSum","reduce","previous","current","param","undefined","parseInt","wrap","css","margin","position","id","appendTo","display","z-index","screen","data-paper-keepalive","top","left","Screen","getElementById","XML","setup","when","done","load","ready","fail","canvas","FPS","items","deferred","paper","cover","Path","Rectangle","view","bounds","fillColor","alpha","debugTexts","i","index","PointText","debugText","justification","content","update","hitCircle","Circle","center","radius","strokeWidth","strokeColor","pressEnter","point","bottomRight","multiply","fontSize","tool","onKeyDown","key","remove","start","onFrame","getPlayerState","toFixed","project","activeLayer","children","setting","runTime","Xpos","x","Group","addChild","Line","from","to","fontFamily"],"mappings":"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"}